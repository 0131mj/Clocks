<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>TimeBox</title>
	<style>
		@import url(https://fonts.googleapis.com/earlyaccess/notosanskr.css);
		body{
			font-family: 'Noto Sans KR', sans-serif;
			padding: 30px 60px 50px;
			color:#555;
		}
		#box-wrapper{
			display:flex;
			justify-content: flex-start;
			flex-wrap: wrap;
			flex-direction: row;
		}
		.box-row{
			display: -webkit-flex;
			display: -moz-flex;
			display: -ms-flex;
			display: -o-flex;
			display: flex;
			flex-direction: column;
		}
		.box{
			width:10px;
			height: 10px;
			background-color: #EEE;
			margin:2px;
		}
		.box.fill{
			background-color: #99B;
		}
		.box.this-week{
			background-color: #558;
		}
		.used-count{
			color: #558;
		}
		.life-text{
			display: -webkit-flex;
			display: -moz-flex;
			display: -ms-flex;
			display: -o-flex;
			display: flex;
			align-items: center;
			margin-bottom: 15px;
		}
		.life-text .box{
			margin-right: 10px;
		}
		legend{
			margin: 30px 0;
		}
	</style>
</head>
<body>
	<h1>Time is Running</h1>
	<legend>
		<div class="life-text">
			<div class="box fill"></div> LifeBox Used
		</div>
		<div class="life-text">
			<div class="box"></div> LifeBox Remain
		</div>
		<div class="life-text">
			<div class="box this-week"></div> LifeBox Current <span id="current-boxes"></span>
		</div>
	</legend>
	<section id="box-wrapper">
		
	</section>
	<br/>
	
	<p>Total Time : 100 years</p>
	<p>Today : <span id="current-time"></span></p>
	<p>1 week / box</p>
	
</body>
<script>
	{/*TODO : input box*/}
	const boxWrapper = document.getElementById('box-wrapper');
	const currentTime = document.getElementById('current-time');
	const currentBoxes = document.getElementById('current-boxes');
	
	let boxes = '';
	
	const age = 37;
	const weekOfYear = 52;
	const totalYear = 100;
	
	const boxCount = weekOfYear * totalYear;
	const filledBoxCount = weekOfYear * age;
		
	function getBoxes(){
		
		let boxes = '';
		
		for(let i = 1; i <= boxCount ; i ++){
			
			let boxClass = 'box';
			
			if(i < filledBoxCount){boxClass += ' fill'}
			if(i === filledBoxCount){boxClass += ' this-week'}
			
			boxes += `<div class="${boxClass}" title="${i}"></div>`;
		}
		return boxes;
	}
	
	boxWrapper.innerHTML = getBoxes()
	currentTime.innerHTML = new Date().toISOString().slice(0,10);
	currentBoxes.innerHTML = `( ${filledBoxCount} )`;
	totalBoxes.innerHTML = `( ${boxCount} )`;
	
	
</script>
</html>
